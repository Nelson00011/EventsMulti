{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aylan/OneDrive/Desktop/events/EventsMulti/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aylan/OneDrive/Desktop/events/EventsMulti/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{json,redirect}from'react-router-dom';import EventForm from'../components/EventForm';import{jsx as _jsx}from\"react/jsx-runtime\";function NewEventPage(){///\nreturn/*#__PURE__*/_jsx(EventForm,{method:\"post\"});}export default NewEventPage;export function action(_x){return _action.apply(this,arguments);}function _action(){_action=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var request,params,data,eventData,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:request=_ref.request,params=_ref.params;_context.next=3;return request.formData();case 3:data=_context.sent;eventData={title:data.get('title'),image:data.get('image'),date:data.get('date'),description:data.get('description')};_context.next=7;return fetch('http://localhost:8080/events',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(eventData)});case 7:response=_context.sent;if(!(response.status===422)){_context.next=10;break;}return _context.abrupt(\"return\",response);case 10:if(response.ok){_context.next=12;break;}throw json({message:\"Could not save event.\"},{status:500});case 12:return _context.abrupt(\"return\",redirect('/events'));case 13:case\"end\":return _context.stop();}},_callee);}));return _action.apply(this,arguments);}","map":{"version":3,"names":["json","redirect","EventForm","jsx","_jsx","NewEventPage","method","action","_x","_action","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","request","params","data","eventData","response","wrap","_callee$","_context","prev","next","formData","sent","title","get","image","date","description","fetch","headers","body","JSON","stringify","status","abrupt","ok","message","stop"],"sources":["C:/Users/aylan/OneDrive/Desktop/events/EventsMulti/frontend/src/pages/NewEvent.js"],"sourcesContent":["import { json, redirect } from 'react-router-dom';\r\n\r\nimport EventForm from '../components/EventForm';\r\n\r\nfunction NewEventPage() {\r\n  ///\r\n\r\n\r\n    return (<EventForm method=\"post\"/>)\r\n  }\r\n  \r\n  export default NewEventPage;\r\n\r\n\r\n  export async function action({ request, params }){\r\n    const data = await request.formData();\r\n    const  eventData = { \r\n      title: data.get('title'),\r\n      image: data.get('image'),\r\n      date: data.get('date'),\r\n      description: data.get('description'),\r\n      }\r\n  \r\n\r\n    const response = await fetch('http://localhost:8080/events', {\r\n      method: 'POST',\r\n      headers: {\r\n      'Content-Type': 'application/json'\r\n      }, \r\n      body: JSON.stringify(eventData)\r\n    });\r\n\r\n    if (response.status === 422){\r\n      return (response)\r\n    }\r\n\r\nif(!response.ok){\r\n  throw json({ message: \"Could not save event.\" }, { status: 500 });\r\n}\r\nreturn (redirect('/events'))\r\n\r\n  }"],"mappings":"kTAAA,OAASA,IAAI,CAAEC,QAAQ,KAAQ,kBAAkB,CAEjD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhD,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtB;AAGE,mBAAQD,IAAA,CAACF,SAAS,EAACI,MAAM,CAAC,MAAM,EAAE,CACpC,CAEA,cAAe,CAAAD,YAAY,CAG3B,eAAsB,CAAAE,MAAMA,CAAAC,EAAA,SAAAC,OAAA,CAAAC,KAAA,MAAAC,SAAA,GA2B3B,SAAAF,QAAA,EAAAA,OAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CA3BM,SAAAC,QAAAC,IAAA,MAAAC,OAAA,CAAAC,MAAA,CAAAC,IAAA,CAAAC,SAAA,CAAAC,QAAA,QAAAR,mBAAA,GAAAS,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAwBT,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAAAM,QAAA,CAAAE,IAAA,SACzB,CAAAT,OAAO,CAACU,QAAQ,EAAE,QAA/BR,IAAI,CAAAK,QAAA,CAAAI,IAAA,CACHR,SAAS,CAAG,CACjBS,KAAK,CAAEV,IAAI,CAACW,GAAG,CAAC,OAAO,CAAC,CACxBC,KAAK,CAAEZ,IAAI,CAACW,GAAG,CAAC,OAAO,CAAC,CACxBE,IAAI,CAAEb,IAAI,CAACW,GAAG,CAAC,MAAM,CAAC,CACtBG,WAAW,CAAEd,IAAI,CAACW,GAAG,CAAC,aAAa,CACnC,CAAC,CAAAN,QAAA,CAAAE,IAAA,SAGoB,CAAAQ,KAAK,CAAC,8BAA8B,CAAE,CAC3D5B,MAAM,CAAE,MAAM,CACd6B,OAAO,CAAE,CACT,cAAc,CAAE,kBAChB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAClB,SAAS,CAChC,CAAC,CAAC,QANIC,QAAQ,CAAAG,QAAA,CAAAI,IAAA,MAQVP,QAAQ,CAACkB,MAAM,GAAK,GAAG,GAAAf,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAgB,MAAA,UACjBnB,QAAQ,aAGlBA,QAAQ,CAACoB,EAAE,EAAAjB,QAAA,CAAAE,IAAA,gBACP,CAAA1B,IAAI,CAAC,CAAE0C,OAAO,CAAE,uBAAwB,CAAC,CAAE,CAAEH,MAAM,CAAE,GAAI,CAAC,CAAC,gBAAAf,QAAA,CAAAgB,MAAA,UAE3DvC,QAAQ,CAAC,SAAS,CAAC,2BAAAuB,QAAA,CAAAmB,IAAA,MAAA5B,OAAA,GAExB,UAAAN,OAAA,CAAAC,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}