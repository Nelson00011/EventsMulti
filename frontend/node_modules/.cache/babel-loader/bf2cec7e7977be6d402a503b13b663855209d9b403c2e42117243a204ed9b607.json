{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aylan/OneDrive/Desktop/events/EventsMulti/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aylan/OneDrive/Desktop/events/EventsMulti/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{Suspense}from'react';import{useLoaderData,json,defer,Await}from'react-router-dom';import EventsList from'../components/EventsList';import{jsx as _jsx}from\"react/jsx-runtime\";function EventsPage(){var _useLoaderData=useLoaderData(),events=_useLoaderData.events;// if (data.isError) {\n//   return <p>{data.message}</p>;\n// }\n//Await expects Suspense wrapping.  \nreturn/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:\"Loading...\"}),children:/*#__PURE__*/_jsx(Await,{resolve:events,children:function children(loadedEvents){return/*#__PURE__*/_jsx(EventsList,{events:loadedEvents});}})});}export default EventsPage;function loadEvents(){return _loadEvents.apply(this,arguments);}function _loadEvents(){_loadEvents=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,resData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:8080/events');case 2:response=_context.sent;if(response.ok){_context.next=7;break;}throw json({message:\"Could no fetch details for selected event\"},{status:500});case 7:_context.next=9;return response.json();case 9:resData=_context.sent;return _context.abrupt(\"return\",resData.events);case 11:case\"end\":return _context.stop();}},_callee);}));return _loadEvents.apply(this,arguments);}export function loader(){return defer({events:loadEvents()});}","map":{"version":3,"names":["Suspense","useLoaderData","json","defer","Await","EventsList","jsx","_jsx","EventsPage","_useLoaderData","events","fallback","style","textAlign","children","resolve","loadedEvents","loadEvents","_loadEvents","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","resData","wrap","_callee$","_context","prev","next","fetch","sent","ok","message","status","abrupt","stop","loader"],"sources":["C:/Users/aylan/OneDrive/Desktop/events/EventsMulti/frontend/src/pages/Events.js"],"sourcesContent":["import { Suspense } from 'react'; \r\nimport { useLoaderData, json, defer, Await } from 'react-router-dom';\r\n\r\nimport EventsList from '../components/EventsList';\r\n\r\nfunction EventsPage() {\r\n  const { events } = useLoaderData();\r\n\r\n  // if (data.isError) {\r\n  //   return <p>{data.message}</p>;\r\n  // }\r\n \r\n//Await expects Suspense wrapping.  \r\n  return (\r\n    <Suspense fallback={<p style={{ textAlign: 'center' }}>Loading...</p>} >\r\n      <Await resolve={events}>\r\n      {(loadedEvents)=> <EventsList events={loadedEvents}/> }\r\n      </Await>\r\n  </Suspense>);\r\n}\r\n\r\nexport default EventsPage;\r\n\r\nasync function loadEvents(){\r\n  const response = await fetch('http://localhost:8080/events');\r\n\r\n  if (!response.ok) {\r\n    // return { isError: true, message: 'Could not fetch events.' };\r\n    \r\n    // throw new Response(JSON.stringify({ message: 'Could not fetch events.' }), {\r\n    //   status: 500,\r\n    // });\r\n\r\n    throw json({message:\"Could no fetch details for selected event\"}, {\r\n      status: 500\r\n    })\r\n  } else {\r\n    const resData = await response.json();\r\n    return resData.events;\r\n  }\r\n\r\n}\r\n\r\nexport function loader() {\r\n  return defer({\r\n    events: loadEvents()\r\n  }) ;\r\n}"],"mappings":"kTAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,aAAa,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,KAAQ,kBAAkB,CAEpE,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElD,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpB,IAAAC,cAAA,CAAmBR,aAAa,EAAE,CAA1BS,MAAM,CAAAD,cAAA,CAANC,MAAM,CAEd;AACA;AACA;AAEF;AACE,mBACEH,IAAA,CAACP,QAAQ,EAACW,QAAQ,cAAEJ,IAAA,MAAGK,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,CAAC,YAAU,EAAK,CAAAA,QAAA,cACpEP,IAAA,CAACH,KAAK,EAACW,OAAO,CAAEL,MAAO,CAAAI,QAAA,CACtB,SAAAA,SAACE,YAAY,qBAAIT,IAAA,CAACF,UAAU,EAACK,MAAM,CAAEM,YAAa,EAAE,IAC7C,EACD,CACb,CAEA,cAAe,CAAAR,UAAU,CAAC,QAEX,CAAAS,UAAUA,CAAA,SAAAC,WAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,YAAA,EAAAA,WAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAzB,SAAAC,QAAA,MAAAC,QAAA,CAAAC,OAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACyB,CAAAC,KAAK,CAAC,8BAA8B,CAAC,QAAtDP,QAAQ,CAAAI,QAAA,CAAAI,IAAA,IAETR,QAAQ,CAACS,EAAE,EAAAL,QAAA,CAAAE,IAAA,eAOR,CAAA7B,IAAI,CAAC,CAACiC,OAAO,CAAC,2CAA2C,CAAC,CAAE,CAChEC,MAAM,CAAE,GACV,CAAC,CAAC,QAAAP,QAAA,CAAAE,IAAA,SAEoB,CAAAN,QAAQ,CAACvB,IAAI,EAAE,QAA/BwB,OAAO,CAAAG,QAAA,CAAAI,IAAA,QAAAJ,QAAA,CAAAQ,MAAA,UACNX,OAAO,CAAChB,MAAM,2BAAAmB,QAAA,CAAAS,IAAA,MAAAd,OAAA,GAGxB,UAAAN,WAAA,CAAAC,KAAA,MAAAC,SAAA,GAED,MAAO,SAAS,CAAAmB,MAAMA,CAAA,CAAG,CACvB,MAAO,CAAApC,KAAK,CAAC,CACXO,MAAM,CAAEO,UAAU,EACpB,CAAC,CAAC,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}