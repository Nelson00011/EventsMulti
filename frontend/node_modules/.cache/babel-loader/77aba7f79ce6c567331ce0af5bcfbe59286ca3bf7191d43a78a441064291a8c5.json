{"ast":null,"code":"import{useEffect}from'react';import{Outlet,useLoaderData,useRouteLoaderData,useSubmit}from'react-router-dom';import NavBar from'../components/Navbar';import{getTokenDuration}from'../uti/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RootLayout(){// const navigation = useNavigation();\nvar token=useLoaderData();var submit=useSubmit();useEffect(function(){if(!token){return;}if(token===\"EXPIRED\"){submit(null,{action:'/logout',method:'post'});}setTimeout(function(){submit(null,{action:'/logout',method:'post'});},1*60*60*1000);},[token,submit]);var tokenDuration=getTokenDuration();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(Outlet,{})})]});}export default RootLayout;","map":{"version":3,"names":["useEffect","Outlet","useLoaderData","useRouteLoaderData","useSubmit","NavBar","getTokenDuration","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RootLayout","token","submit","action","method","setTimeout","tokenDuration","children"],"sources":["C:/Users/aylan/OneDrive/Desktop/events/EventsMulti/frontend/src/pages/Root.js"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\nimport { Outlet, useLoaderData, useRouteLoaderData,  useSubmit } from 'react-router-dom';\r\n\r\nimport NavBar from '../components/Navbar';\r\nimport { getTokenDuration } from '../uti/auth';\r\n\r\nfunction RootLayout() {\r\n// const navigation = useNavigation();\r\n\r\nconst token = useLoaderData();\r\nconst submit = useSubmit();\r\n\r\nuseEffect(()=>{\r\nif(!token){\r\n  return; \r\n}\r\n\r\nif(token === \"EXPIRED\" ){\r\n  submit(null, { action: '/logout', method: 'post'})\r\n}\r\n\r\nsetTimeout(()=> {\r\nsubmit(null, { action: '/logout', method: 'post'})\r\n}, 1*60*60*1000);\r\n}, [token, submit]);\r\n\r\nconst tokenDuration = getTokenDuration();\r\n\r\n\r\n  return (\r\n    <>\r\n      <NavBar />\r\n      <main>\r\n        {/* {navigation.state === 'loading' && <p>Loading...</p>} */}\r\n        <Outlet />\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default RootLayout;"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CAEjC,OAASC,MAAM,CAAEC,aAAa,CAAEC,kBAAkB,CAAGC,SAAS,KAAQ,kBAAkB,CAExF,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAASC,gBAAgB,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACtB;AAEA,GAAM,CAAAC,KAAK,CAAGZ,aAAa,EAAE,CAC7B,GAAM,CAAAa,MAAM,CAAGX,SAAS,EAAE,CAE1BJ,SAAS,CAAC,UAAI,CACd,GAAG,CAACc,KAAK,CAAC,CACR,OACF,CAEA,GAAGA,KAAK,GAAK,SAAS,CAAE,CACtBC,MAAM,CAAC,IAAI,CAAE,CAAEC,MAAM,CAAE,SAAS,CAAEC,MAAM,CAAE,MAAM,CAAC,CAAC,CACpD,CAEAC,UAAU,CAAC,UAAK,CAChBH,MAAM,CAAC,IAAI,CAAE,CAAEC,MAAM,CAAE,SAAS,CAAEC,MAAM,CAAE,MAAM,CAAC,CAAC,CAClD,CAAC,CAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,CAChB,CAAC,CAAE,CAACH,KAAK,CAAEC,MAAM,CAAC,CAAC,CAEnB,GAAM,CAAAI,aAAa,CAAGb,gBAAgB,EAAE,CAGtC,mBACEM,KAAA,CAAAF,SAAA,EAAAU,QAAA,eACEZ,IAAA,CAACH,MAAM,IAAG,cACVG,IAAA,SAAAY,QAAA,cAEEZ,IAAA,CAACP,MAAM,IAAG,EACL,GACN,CAEP,CAEA,cAAe,CAAAY,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}